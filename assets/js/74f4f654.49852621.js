"use strict";(self.webpackChunkcomplan_docs=self.webpackChunkcomplan_docs||[]).push([[1803],{79:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>a,toc:()=>c});var s=i(4848),t=i(8453);const o={},r="Setting up a Linux(Debian) Server for WinPCS1",a={id:"winpcs1/setting-up-winpcs-server-for-linux",title:"Setting up a Linux(Debian) Server for WinPCS1",description:"This document is a set of steps and instructions I have used to install Debian 12 for the WinPCS1 Couchdb.",source:"@site/docs/winpcs1/setting-up-winpcs-server-for-linux.md",sourceDirName:"winpcs1",slug:"/winpcs1/setting-up-winpcs-server-for-linux",permalink:"/docs/winpcs1/setting-up-winpcs-server-for-linux",draft:!1,unlisted:!1,editUrl:"https://github.com/complanusa/winpcs/tree/main/docs/docs/docs/winpcs1/setting-up-winpcs-server-for-linux.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"How CouchDB Queries are Done Through WinPCS1",permalink:"/docs/winpcs1/lookups-indexing-and-searching"},next:{title:"WinpCS3",permalink:"/docs/winpcs3/"}},l={},c=[{value:"Create Bootable USB Drive",id:"create-bootable-usb-drive",level:2},{value:"Install Debian on Server",id:"install-debian-on-server",level:2},{value:"Set the Sleep Actions",id:"set-the-sleep-actions",level:2},{value:"Enable SSH on Debian 12",id:"enable-ssh-on-debian-12",level:2},{value:"Add User as Super User",id:"add-user-as-super-user",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"setting-up-a-linuxdebian-server-for-winpcs1",children:"Setting up a Linux(Debian) Server for WinPCS1"})}),"\n",(0,s.jsx)(n.p,{children:"This document is a set of steps and instructions I have used to install Debian 12 for the WinPCS1 Couchdb."}),"\n",(0,s.jsx)(n.h2,{id:"create-bootable-usb-drive",children:"Create Bootable USB Drive"}),"\n",(0,s.jsx)(n.p,{children:"To create a bootable USB for Debian 12 from a Windows 11 computer, you can use Etcher."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"First, download the Debian 12 ISO file from the official Debian website"}),"\n",(0,s.jsx)(n.li,{children:"Insert a USB drive with at least 4 GB of storage into your Windows 11 computer."}),"\n",(0,s.jsx)(n.li,{children:"Open Etcher, select your USB drive, and choose the Debian 12 ISO file."}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.code,{children:"Flash"})," to begin the process of creating the bootable USB."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"install-debian-on-server",children:"Install Debian on Server"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["For a video guide of installation steps taken, see ",(0,s.jsx)(n.a,{href:"https://www.youtube.com/watch?v=Owr-PGxFBQE",children:"How to install Debian 12 Bookworm For Linux Beginners (UEFI)"}),"\nEnsure the ",(0,s.jsx)(n.code,{children:"UEFI"})," is enabled and if ",(0,s.jsx)(n.code,{children:"Legacy Boot"})," option is available to disable it. Also, disable ",(0,s.jsx)(n.code,{children:"Secure Boot"})," and ",(0,s.jsx)(n.code,{children:"Fast Boot"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Ensure that your system's BIOS is configured to prioritize USB as the primary bootable device (F2 Key or F10 for Boot Menu). Then, boot your system using the freshly created Debian 12 bootable USB Drive. Follow the steps below to proceed with the installation of Debian 12, codenamed Bookworm."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"STEP 1 : Choose Install Type"})}),"\n",(0,s.jsx)(n.p,{children:'From the Debian installer menu, choose the option labeled "Graphical Install" to initiate the installation process of Debian 12.'}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"STEP 2: Language Selection"})}),"\n",(0,s.jsx)(n.p,{children:"In this step, you will be prompted to select the language that will be used for both the installation process and the system language in Debian 12. Choose the English language from the available options to proceed with the installation."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"STEP 3: Select Your Location"})}),"\n",(0,s.jsxs)(n.p,{children:["In this step, you will be required to select your location, which will automatically set the appropriate time zone for your Debian 12 installation. Choose ",(0,s.jsx)(n.code,{children:"United States"}),' and click "continue".']}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"STEP 4: Keyboard Configuration"})}),"\n",(0,s.jsxs)(n.p,{children:["Select ",(0,s.jsx)(n.code,{children:"American English"}),' keyboard layout from the available options and click "continue". Now, some installer components will be loaded from the disk before going to the next step.']}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"STEP 5: Network Configuration"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Ensure the server is connected to the network. This will automatically configure IP address by obtaining it from an existing DHCP server in your network (this will be configured later for static IP)."}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:'During the installation process, the Debian installer will attempt to automatically configure the IP address by obtaining it from an existing DHCP server in your network. However, if no DHCP server is available, the automatic network autoconfiguration will fail. In such a scenario, you will need to manually configure the IP address settings. Click "continue" to manually configure your network.\nIn the next screen, choose "Configure network manually" option and click "continue".'}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:'Enter a IP address to your Debian system and click "continue".'}),"\n",(0,s.jsx)(n.li,{children:'Enter Netmask and click "continue".'}),"\n",(0,s.jsx)(n.li,{children:'Enter Gateway IP and click "continue".'}),"\n",(0,s.jsx)(n.li,{children:'Enter Name server (DNS) address and click "continue".'}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:'Enter a hostname for your Debian system and click "continue".'}),"\n",(0,s.jsxs)(n.li,{children:["Next, enter a Domain name for your Debian system. The domain name helps identify and categorize systems within a network. If you have a specific domain name associated with your network, enter it here. ",(0,s.jsx)(n.code,{children:"Otherwise, you can leave this field blank. Providing a domain name is optional, and it can be configured or modified later if needed. I am leaving it blank here."})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"STEP 6: Set Root Password"})}),"\n",(0,s.jsx)(n.p,{children:'In this step, leave the root password blank and click "continue". This gives the initial user account the power to become root using the "sudo" command.'}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:'Debian Warning: The root user should not have an empty password. If you leave this emplty, the root account will be discabled and the system\'s initial user account will be given the power to become root using the "sudo" command.'}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"STEP 7: Create New User Account"})}),"\n",(0,s.jsx)(n.p,{children:"This new user account will serve as an alternative to the root user, enabling you to perform regular activities without the need for administrative permissions."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Enter a full name for the new user."}),"\n",(0,s.jsx)(n.li,{children:"Enter a username for the new user account. The username should start with a lower-case letter, followed by any combination of numbers and more lower-case letters."}),"\n",(0,s.jsx)(n.li,{children:"Enter a unique and strong password for the new user.."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Step 8: Configure the Clock"})}),"\n",(0,s.jsx)(n.p,{children:'Select the appropriate time zone. I selected Central for the Houston Office and click "continue".'}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"STEP 9: Disk Partitioning"})}),"\n",(0,s.jsx)(n.p,{children:"In this step, you will need to decide how you want to partition your disks in Debian 12. You have four options to choose from:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Guided Partition - Use entire disk: Selecting this option allows the system to automatically partition the entire disk for you."}),"\n",(0,s.jsx)(n.li,{children:"Guided Partition - Use entire disk and set up LVM: This option automatically sets up Logical Volume Management (LVM) in addition to partitioning the entire disk. LVM provides flexibility in managing storage volumes."}),"\n",(0,s.jsx)(n.li,{children:"Guided Partition - Use entire disk and set up encrypted LVM: If you require an extra layer of security, this option will automatically set up an encrypted LVM configuration along with partitioning the entire disk."}),"\n",(0,s.jsx)(n.li,{children:"Manual partitioning: If you prefer to have complete control over the disk partitioning process, you can choose manual partitioning. This option allows you to customize and define the partitions according to your specific requirements."}),"\n"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Here I am choosing ",(0,s.jsx)(n.code,{children:"Guided Partition - Use entire disk"}),' method and click "continue".']}),"\n",(0,s.jsx)(n.li,{children:'Select the drive and click "continue".'}),"\n",(0,s.jsxs)(n.li,{children:["Select ",(0,s.jsx)(n.code,{children:"All files in one partition"}),' and click "continue".']}),"\n",(0,s.jsxs)(n.li,{children:["Review the Partions and select ",(0,s.jsx)(n.code,{children:"Finish partioning and write changes to disk"}),' and click "continue".']}),"\n",(0,s.jsx)(n.li,{children:'After choosing the device, choose "Yes" to proceed with creating new partition table on the selected device. This action will initialize the disk with a fresh partition table, allowing you to define and allocate partitions as per your requirements. The Debian 12 base installation will begin now.'}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"STEP 10: Configure Package Manager"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"After a few minutes, the installer will prompt you to scan for additional media. This scan is primarily performed to identify any supplementary media that can be utilized by the package manager (apt). In most cases, you will not have any additional media apart from the ISO image you initially booted from."}),"\n"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:'I am choosing the "No" option to proceed to the next step, click "continue".'}),"\n",(0,s.jsx)(n.li,{children:'Select a location of the server and click "continue".'}),"\n",(0,s.jsx)(n.li,{children:'Select a mirror from the list of available Debian archive mirrors and click "continue".'}),"\n",(0,s.jsxs)(n.li,{children:["If your machine is configured to access the internet through a proxy, you will be prompted to enter the proxy information in this step. Provide the necessary proxy details, including the proxy server address and port number. If you do not have a proxy configured or do not require a proxy for internet access, you can ",(0,s.jsx)(n.code,{children:'leave the fields blank and proceed by pressing the "Continue" button'}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"STEP 11: Popularity Contest Configuration"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:'Click "No" and then "continue".'}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"STEP 12: Software selection"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["I am selecting to install Debian desktop environment, GNOME desktop environment, SSH server (this can also be added later see ",(0,s.jsx)(n.a,{href:"#enable-ssh-on-debian-12",children:"Enable SSH on Debian 12"}),") and standard system utilities."]}),"\n",(0,s.jsx)(n.li,{children:'Click "continue".'}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"STEP 13: GRUB Installation"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:'Choose "Yes" and press the "Continue" button.'}),"\n",(0,s.jsx)(n.li,{children:'Select the drive on which you want to install the boot loader and click "continue".'}),"\n",(0,s.jsx)(n.li,{children:'After the installation process is complete, your system will need to be rebooted. Remove the USB Bootable Drive and click "continue". Upon reboot, you will be presented with a login prompt where you can enter the username and password you created during the installation.'}),"\n",(0,s.jsx)(n.li,{children:"Login to Debian 12"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"STEP 14: Debian Initial Setup"})}),"\n",(0,s.jsx)(n.p,{children:"At first login, you will be greeted with the Gnome initial setup welcome message."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:'Click Next to "continue".'}),"\n",(0,s.jsx)(n.li,{children:"Select your preferred keyboard layout or an input method and click Next."}),"\n",(0,s.jsx)(n.li,{children:'Next, you will be prompted to enable location services on your Debian 12 system. Toggle the switch to OFF position and click "continue".'}),"\n",(0,s.jsxs)(n.li,{children:["Connect your online accounts, such as Google, Microsoft, if you want to easily access your email, contacts, documents and photos. ",(0,s.jsx)(n.code,{children:'Click "Skip"'}),"."]}),"\n",(0,s.jsx)(n.li,{children:'GNOME initial setup is complete! Click "Start Using Debian GNU/Linux" to close this wizard.'}),"\n",(0,s.jsx)(n.li,{children:"Run update"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo apt update && upgrade -y\n"})}),"\n",(0,s.jsx)(n.h2,{id:"set-the-sleep-actions",children:"Set the Sleep Actions"}),"\n",(0,s.jsxs)(n.p,{children:["For GNOME, go to ",(0,s.jsx)(n.code,{children:"Settings > Power"})," and adjust the sleep settings to off for the system. The sleep for the monitor can remain."]}),"\n",(0,s.jsx)(n.h2,{id:"enable-ssh-on-debian-12",children:"Enable SSH on Debian 12"}),"\n",(0,s.jsx)(n.p,{children:"To enable SSH on Debian 12, you first need to install the OpenSSH server package. Here are the steps to follow:"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Install OpenSSH Server"}),": Run the following command to install the OpenSSH server:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo apt update && sudo apt install openssh-server\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Check SSH Service Status"}),": After installation, you can check if the SSH service is running with the command:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"systemctl status ssh\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Enable SSH Service"}),": If the SSH service is not running, you can enable it to start on boot and start the service with:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo systemctl enable ssh\nsudo systemctl start ssh\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Verify SSH Configuration"}),": You can edit the SSH configuration file located at ",(0,s.jsx)(n.code,{children:"/etc/ssh/sshd_config"})," to make necessary changes, such as changing the default SSH port or disabling root login.\nRestart SSH Service: After making any changes to the configuration file, restart the SSH service to apply the changes:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo systemctl restart ssh\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Connect to SSH Server"}),": Use an SSH client to connect to your Debian 12 server. For example, from a terminal, you can use:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ssh username@your-server-ip\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Troubleshoot SSH Connection Issues"}),": If you encounter connection issues, ensure that your firewall is not blocking SSH connections and that the SSH service is running properly."]}),"\n",(0,s.jsx)(n.h2,{id:"add-user-as-super-user",children:"Add User as Super User"}),"\n",(0,s.jsx)(n.p,{children:"To add a user as a superuser on Debian, follow these steps:"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Create a New User"}),": Use the adduser command to create a new user. For example:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo adduser username\n"})}),"\n",(0,s.jsx)(n.p,{children:"Replace username with the desired username. This command will prompt you to set a password and provide additional information about the user.\nAdd User to the Sudo Group: After creating the user, add them to the sudo group to grant superuser privileges. Use the usermod command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo usermod -aG sudo username\n"})}),"\n",(0,s.jsx)(n.p,{children:"Alternatively, you can directly create a new superuser with sudo privileges in one command:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo adduser username sudo\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Verify the User's Groups"}),": To ensure the user has been added to the sudo group, you can use the groups command:\\"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"groups username\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Test Superuser Privileges"}),": Log in as the new user and test sudo privileges by running a command that requires elevated permissions:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo ls /root\n"})}),"\n",(0,s.jsx)(n.p,{children:"If you are using a graphical interface, you can follow these steps:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Create a New User"}),": Use the adduser command as described above."]}),"\n",(0,s.jsxs)(n.li,{children:["Add User to the Sudo Group Using System Settings:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Go to the Applications menu and click on the Users option."}),"\n",(0,s.jsx)(n.li,{children:"Unlock the user settings by entering the root password."}),"\n",(0,s.jsx)(n.li,{children:"Click on the newly created user and convert it into an administrator account.\nThese steps will ensure that the new user has superuser privileges and can perform administrative tasks on the Ubuntu system."}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>a});var s=i(6540);const t={},o=s.createContext(t);function r(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);